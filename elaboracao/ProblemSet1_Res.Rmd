```{r packages}
# rm(list = ls())
library(tidyverse)
library(conflicted)
library(tictoc)     # timing
```

$$
f(x | a, b, c) = 
\begin{cases}
  0                         & \text{se} \; x < a \\
  \frac{2(x-a)}{(b-a)(c-a)} & \text{se} \; a \leq x < c \\
  \frac{2}{b-a}             & \text{se} \; x = c \\
  \frac{2(b-x)}{(b-a)(b-c)} & \text{se} \; c < x \leq b \\
  0                         & \text{se} \; x > b
\end{cases}
$$

```{r distribuição-triangular}
pdf_triang_abc <- function(x, a, b, c) {
  case_when(
    x < a | x > b   ~ 0,
    x < c            ~ 2 * (x - a) / ((b - a) * (c - a)),
    x == c           ~ 2 / (b - a),
    c < x            ~ 2 * (b - x) / ((b - a) * (b - c)),
    TRUE             ~ NA_real_
  )
}
pdf_triang <- \(x, min, max, mode) pdf_triang_abc(x, min, max, mode)
pdf <- pdf_triang_abc

extraDistr::dtriang(2,1,3,2.5)
pdf(2,1,3,2.5)
```


```{r}
aceitacao_rejeicao_triang <- function(n, minT=0, maxT=1, modeT=0.5) {
  f <- \(x) pdf_triang(x, minT, maxT,modeT)
  # vamos usar uma normal
  g <- \(x) dnorm(x, mean = modeT, )
}
```

```{r plots}
set.seed(2023)
tic()
NPA <- generate_triangular_random(10000, 0, 10, 5) %>%
  data.frame(NPA = .)
toc()
# Densidade dos NPA gerados
density_plot <- ggplot(NPA, aes(x = NPA)) +
  geom_density(fill = "blue", alpha = 0.5) +
  labs(x = "NPA", y = "Densidade") +
  ggtitle("Densidade dos NPA Gerados")

toc(log = TRUE)
print(density_plot)

# TODO gráfico (fiz um simples, mas seria interessante fazer o triângulo da distrib.)
```


## Exercício 2

$s_1=\displaystyle\frac{Q_3-Q_1-2Q_2}{Q_3-Q_1}$

$s_2=\displaystyle\frac{(\mu-\upsilon)}{E(|X-\upsilon|)}$


```{r}
# TODO
```




